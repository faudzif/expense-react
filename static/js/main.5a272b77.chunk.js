(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(e,t,a){e.exports=a(63)},35:function(e,t,a){},36:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"formOnChange",function(){return _}),a.d(n,"formSubmit",function(){return T}),a.d(n,"loadRowsSuccess",function(){return k}),a.d(n,"createRowSuccess",function(){return I}),a.d(n,"updateRowSuccess",function(){return A}),a.d(n,"deleteRowOptimistic",function(){return U}),a.d(n,"loadRows",function(){return x}),a.d(n,"createRow",function(){return M}),a.d(n,"updateRow",function(){return L}),a.d(n,"deleteRow",function(){return P});var r=a(0),o=a.n(r),c=a(14),l=a.n(c),u=(a(35),a(36),a(4)),i=a(7),s=a(8),d=a(11),m=a(9),f=a(10),p=function(e){return o.a.createElement("div",{className:"col"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header bg-".concat(e.bgType," text-white")},e.heading),o.a.createElement("div",{className:"card-body"},e.amount)))},b=a(2),h="LOAD_ROWS_SUCCESS",E="CREATE_ROW_SUCCESS",g="UPDATE_ROW_SUCCESS",w="FORM_ONCHANGE",v="FORM_SUBMIT",O="DELETE_ROW_OPTIMISTIC",y=a(13),D=a.n(y),j=Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_RECORDS_API_URL||"https://5cd013045b71f40014dc1292.mockapi.io",N=function(){return D.a.get("".concat(j,"/api/v1/records"))},R=function(e){return D.a.post("".concat(j,"/api/v1/records"),e)},C=function(e,t){return D.a.put("".concat(j,"/api/v1/records/").concat(e),t)},S=function(e){return D.a.delete("".concat(j,"/api/v1/records/").concat(e))},_=function(e){return{type:w,e:e}},T=function(e,t){return{type:v,e:e,data:t}};function k(e){return{type:h,rows:e}}function I(e){return{type:E,row:e}}var A=function(e,t){return{type:g,id:e,data:t}},U=function(e){return{type:O,id:e}};function x(){return function(e){return N().then(function(t){e(k(t))}).catch(function(e){console.log(e.message)})}}function M(e){return function(t){return t(I(e)),R(e).catch(function(e){console.log(e.message)})}}function L(e,t){return function(a){return a(A(e,t)),C(e,t).catch(function(e){console.log(e.message)})}}function P(e){return function(t){return t(U(e)),S(e).catch(function(e){console.log(e.message)})}}var B=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleOnSubmit=function(e){e.preventDefault(),a.refs.date.value="",a.refs.title.value="",a.refs.amount.value=""},a.newRowsData=function(){return{date:a.props.state.rowsData.date,title:a.props.state.rowsData.title,amount:Number.parseInt(a.props.state.rowsData.amount)}},a}return Object(f.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("form",{onSubmit:function(t){e.handleOnSubmit(t),e.props.createRow(e.newRowsData())},className:"form-inline mb-3"},o.a.createElement("div",{className:"form-group mr-1"},o.a.createElement("input",{onChange:this.props.formOnChange,type:"text",className:"form-control",placeholder:"Date",name:"date",ref:"date"})),o.a.createElement("div",{className:"form-group mr-1"},o.a.createElement("input",{onChange:this.props.formOnChange,type:"text",className:"form-control",placeholder:"Title",name:"title",ref:"title"})),o.a.createElement("div",{className:"form-group mr-1"},o.a.createElement("input",{onChange:this.props.formOnChange,type:"text",className:"form-control",placeholder:"Amount",name:"amount",ref:"amount"})),o.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:""}," ","Create Record"))}}]),t}(r.Component),W=Object(b.b)(function(e){return{state:e}},function(e){return{formOnChange:function(t){e(_(t))},createRow:function(t){e(M(t))}}})(B),V=a(3),F=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isEdit:!0},a.handleToggle=function(){a.setState({isEdit:!a.state.isEdit})},a.handleUpdate=function(e){return{id:a.props.entry.id,date:a.refs.date.value,title:a.refs.title.value,amount:Number.parseInt(a.refs.amount.value)}},a}return Object(f.a)(t,e),Object(s.a)(t,[{key:"rowDisplay",value:function(){var e=this;return o.a.createElement("tr",null,o.a.createElement("td",null,this.props.entry.date),o.a.createElement("td",null,this.props.entry.title),o.a.createElement("td",null,this.props.entry.amount),o.a.createElement("td",null,o.a.createElement("button",{className:"btn btn-info mr-1",onClick:this.handleToggle},"Edit"),o.a.createElement("button",{onClick:function(){e.props.actions.deleteRow(e.props.entry.id)},className:"btn btn-danger"},"Delete")))}},{key:"rowEdit",value:function(){var e=this;return o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",defaultValue:this.props.entry.date,ref:"date"})),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",defaultValue:this.props.entry.title,ref:"title"})),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",defaultValue:this.props.entry.amount,ref:"amount"})),o.a.createElement("td",null,o.a.createElement("button",{className:"btn btn-info mr-1",onClick:function(){e.handleUpdate(e.props.entry.id),e.props.actions.updateRow(e.props.entry.id,e.handleUpdate()),e.handleToggle()}},"Update"),o.a.createElement("button",{onClick:this.handleToggle,className:"btn btn-danger"},"Cancel")))}},{key:"render",value:function(){return this.state.isEdit?this.rowDisplay():this.rowEdit()}}]),t}(r.Component);var J=Object(b.b)(function(e){return{data:e.data}},function(e){return{actions:Object(V.b)(n,e)}})(F),X=Object(b.b)(function(e){return{rowData:e.rowsData.data}})(function(e){var t=e.rowData;return o.a.createElement("div",null,o.a.createElement("table",{className:"table table-bordered"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("td",null,"Date"),o.a.createElement("td",null,"Title"),o.a.createElement("td",null,"Amount"),o.a.createElement("td",null,"Actions"))),o.a.createElement("tbody",null,t&&t.length?t.map(function(e){return o.a.createElement(J,{key:e.id,entry:e})}):o.a.createElement("tr",null,o.a.createElement(function(){return 200!==e.status?o.a.createElement("td",{colSpan:4,className:"bg-success text-white"}," ","Loading..."):o.a.createElement("td",{colSpan:4,className:"bg-info text-white"}," ","No Data...")},null)))))}),G=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).credit=function(){return a.props.rowsData.data.reduce(function(e,t){return t.amount>0?e+t.amount:e},0)},a.debit=function(){return a.props.rowsData.data.reduce(function(e,t){return t.amount<0?e+t.amount:e},0)},a.balance=function(){return a.debit()+a.credit()},a.getDataFromRow=function(e,t){var n=a.props.rowsData.data.findIndex(function(e){return e.id===t});-1===n?console.log("upading index not found"):a.setState({data:[].concat(Object(u.a)(a.props.rowsData.data.slice(0,n)),[Object.assign({},a.props.rowsData.data[n],e)],Object(u.a)(a.props.rowsData.data.slice(n+1)))})},a}return Object(f.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.rowsData,a=e.loadRows;0===t.data.length&&a().catch(function(e){console.log(e.message)})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"row mb-3"},o.a.createElement(p,{heading:"Credit",amount:this.credit(),bgType:"success"}),o.a.createElement(p,{heading:"Debit",amount:this.debit(),bgType:"danger"}),o.a.createElement(p,{heading:"Balance",amount:this.balance(),bgType:"info"})),o.a.createElement(W,null),o.a.createElement(X,{status:this.props.rowsData.status}))}}]),t}(r.Component);var H={loadRows:x},$=Object(b.b)(function(e){return{rowsData:e.rowsData}},H)(G);var q=function(){return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"container"},o.a.createElement($,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var z=a(6),K={date:"",title:"",amount:"",data:[]};var Q=Object(V.c)({rowsData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return console.log("Data has been loaded"),t.rows;case O:console.log("Row has been deleted");var a=e.data.filter(function(e){return e.id!==t.id});return Object(z.a)({},e,{data:a});case g:console.log("Row has been updated");var n=e.data.findIndex(function(e){return e.id===t.id});return Object(z.a)({},e,{data:[].concat(Object(u.a)(e.data.slice(0,n)),[Object.assign({},e.data[n],t.data)],Object(u.a)(e.data.slice(n+1)))});case w:console.log("form has being changing");var r=t.e.target.name,o=t.e.target.value,c={};return c[""+r]=o,Object(z.a)({},e,c);case v:return t.e.preventDefault(),console.log("form has been submitted"),Object(z.a)({},e,{data:[].concat(Object(u.a)(e.data),[{id:Math.random(),date:e.date,title:e.title,amount:Number.parseInt(e.amount)}])});case E:return console.log("Row has been created"),Object(z.a)({},e,{data:[].concat(Object(u.a)(e.data),[Object(z.a)({},t.row,{id:Math.random()})])});case"CREDIT":return console.log("amount has been credited"),e;case"DEBIT":return console.log("amount has been debited"),e;default:return e}}}),Y=a(28),Z=a.n(Y),ee=a(29);var te=function(e){var t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||V.d;return Object(V.e)(Q,e,t(Object(V.a)(ee.a,Z()())))}();l.a.render(o.a.createElement(b.a,{store:te},o.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[30,1,2]]]);
//# sourceMappingURL=main.5a272b77.chunk.js.map